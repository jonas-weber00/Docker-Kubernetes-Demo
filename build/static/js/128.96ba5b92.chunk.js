"use strict";(self.webpackChunknft_launchpad_near=self.webpackChunknft_launchpad_near||[]).push([[128],{81874:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(80184);const i=()=>(0,a.jsx)("div",{style:{textAlign:"center",marginBottom:"20px"},children:(0,a.jsx)("h4",{style:{color:"#253b80",letterSpacing:"2px"},children:"Please connect your wallet!"})})},88219:(e,n,t)=>{t.d(n,{q:()=>l});var a,i=t(30168),o=t(11668),r=(t(72791),t(17939)),s=t(80184);const l=(0,r.ZP)((function(e){let{className:n,children:t}=e;return(0,s.jsx)("div",{className:n,children:(0,s.jsx)("div",{className:"content-layout",style:{maxWidth:"1420px",margin:"auto"},children:t})})}))(a||(a=(0,i.Z)(["\n    // ---------------------------------------------\n    // style\n    // ---------------------------------------------\n    background-color: ",";\n    color: ",";\n\n    // ---------------------------------------------\n    // layout\n    // ---------------------------------------------\n    // pc\n    @media (min-width: ","px) {\n        padding: ","px;\n\n        .NeuSection-root {\n            margin-bottom: 40px;\n        }\n    }\n\n    @media (min-width: ","px) {\n        main {\n            max-width: ","px;\n            margin: 0 auto;\n        }\n    }\n\n    // tablet\n    @media (min-width: ","px) and (max-width: ","px) {\n        padding: ","px 30px 30px 30px;\n\n        .NeuSection-root {\n            margin-bottom: 40px;\n\n            .NeuSection-content {\n                padding: 30px;\n            }\n        }\n    }\n\n    // mobile\n    @media (max-width: ","px) {\n        padding: ","px 15px 15px 15px;\n\n        .NeuSection-root {\n            margin-bottom: 40px;\n\n            .NeuSection-content {\n                padding: 20px;\n            }\n        }\n    }\n"])),(e=>{let{theme:n}=e;return n.backgroundColor}),(e=>{let{theme:n}=e;return n.textColor}),o.s.pc.min,o.G.pc,o.s.monitor.min,o.s.monitor.min,o.s.tablet.min,o.s.tablet.max,o.G.tablet,o.s.mobile.max,o.G.mobile)},43348:(e,n,t)=>{t.d(n,{JT:()=>c,VN:()=>s,be:()=>r,zs:()=>d});var a=t(74569),i=t.n(a),o=t(76705);const r=i().create({baseURL:"".concat(o.LB,"/api"),timeout:3e4,headers:{"Content-Type":"application/json"}}),s=async e=>{if(0===Object.keys(e).length)throw new Error("Provided object is empty");const n=l(e);try{const e=await fetch("".concat("https://ar.mintbase.xyz","/reference"),{method:"POST",headers:{"mb-api-key":"anon"},body:n,redirect:"follow"});if(200!==e.status)throw new Error("Error uploading via arweave service: ".concat(JSON.stringify(await e.json())));const t=await e.json();return Object.assign(Object.assign({},t),{media_url:"https://arweave.net/".concat(t.media_hash)})}catch(t){throw console.error("Uploading file to arweave failed"),t}},l=e=>{const n=new FormData;return Object.entries(e).forEach((e=>{const[t,a]=e,i="document"===t||"media"===t||"animation_url"===t,o=!i&&!(a instanceof File),r=a instanceof File&&a.size<31457280,s=i&&"string"===typeof a;if(!i&&a instanceof File)throw new Error("The provided field has a key that is not recognized by our service and will not be uploaded to arweave, try using media, animation_url or document");s&&(console.warn("The provided media type will not be uploaded because its a string and not a file, try attaching files to the following keys: media, animation_url or document"),n.append(t,a)),(o&&"string"===typeof a||r)&&n.append(t,a)})),n},c=e=>{const n=new Date(Number(e)),t=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0"),o=String(n.getHours()).padStart(2,"0"),r=String(n.getMinutes()).padStart(2,"0"),s=String(n.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(i," ").concat(o,":").concat(r,":").concat(s)},d=e=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<e;a++)t+=n.charAt(Math.floor(62*Math.random()));return t}},11668:(e,n,t)=>{t.d(n,{G:()=>i,s:()=>a});const a={mobile:{max:530},tablet:{min:531,max:830},pc:{min:831,max:1439},monitor:{min:1440}},i={pc:50,mobile:20,tablet:20}},53128:(e,n,t)=>{t.r(n),t.d(n,{default:()=>U});var a,i=t(72791),o=t(16871),r=t(61889),s=t(47047),l=t(64554),c=t(13400),d=t(20890),x=t(41473),h=t(55818),p=t(3721),u=t(53767),m=t(19218),g=t(36151),b=t(79012),j=t(29823),f=t(79174),Z=t(81131),w=t(82271),v=t(6445),y=t(89885),S=t(58963),k=t(30168),N=t(11668),P=t(17939),C=t(88219),_=t(85523);const F=(0,P.ZP)(C.q)(a||(a=(0,k.Z)(["\n\n  .whiteBlock {\n    background: #f5f5f5;\n    border-radius: 15px;\n    padding: 15px;\n    position:relative;\n    transition: background-color 0.2s ease-in-out; \n    h6{\n      color:#ababab;\n    },\n    h4{\n        font-weight: 800;\n        font-size: 2.325rem;\n    }\n    .NFTs-link {\n      position: absolute;\n      width: 18px;\n      right: 10px;\n      top: 10px;\n      color: #b5b5b5;\n    }\n  }\n\n  .fileBox {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 20px;\n    background: darkgrey;\n    padding: 40px;\n    border-radius: 5px;\n  }\n  \n  .uploadBox {\n    width: 100%;\n    height:auto;\n    border-radius:5px;\n    padding: 20px;\n    cursor:pointer;\n    text-align: center;\n    background-color: #ebedef;\n    transition: background-color 0.2s ease-in-out;\n  }\n\n  .uploadBox:hover {\n    background-color: #dddedf;\n    transition: background-color 0.2s ease-in-out;\n  }\n  \n  button {\n    text-transform: none !important;\n  }\n\n  @media (max-width: ","px) {\n    \n  }\n\n  // pc\n  @media (min-width: ","px) {\n  }\n\n  // under pc\n  @media (max-width: ","px) {\n  }\n\n  // mobile\n  @media (max-width: ","px) {\n    .basic-box {\n      flex-direction: column;\n    }\n    .documentName {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  \n  }\n"])),N.s.mobile.max,N.s.monitor.min,N.s.pc.max,N.s.mobile.max),T=(0,P.ZP)("input")((()=>({borderBottom:"none",width:"35px",height:"35px",fontSize:"20px",overflow:"hidden",padding:0,border:"none",margin:0}))),R=(0,P.ZP)(_.Z)((()=>({background:"white",paddingRight:"10px",borderRadius:10,transition:"background-color 0.2s ease-in-out","&:hover":{background:"#32c5ff47",transition:"background-color 0.2s ease-in-out"}})));var A=t(59733),z=t(43348),D=t(90528),E=t(37940),B=t(76705),I=t(81874),W=t(80184);function U(){var e;const{showSpinner:n,hideSpinner:t}=(0,E.y)(),a=(0,o.s0)(),{showAlert:k}=(0,D.V)(),N=new URLSearchParams(window.location.search).get("contract"),{selector:P,account:C,accountId:_,setWalletSignin:U}=(0,A.s)(),[M,O]=(0,i.useState)(!1),[L,q]=(0,i.useState)(!1),[G,J]=(0,i.useState)(""),[Y,V]=(0,i.useState)("0"),[K,H]=(0,i.useState)(""),[Q,X]=(0,i.useState)(""),[$,ee]=(0,i.useState)(""),[ne,te]=(0,i.useState)(""),[ae,ie]=(0,i.useState)(),[oe,re]=(0,i.useState)([]),[se,le]=(0,i.useState)([]),[ce,de]=(0,i.useState)(),[xe,he]=(0,i.useState)(),[pe,ue]=(0,i.useState)(null),me=()=>{a("/view?contract=".concat(N))},ge=e=>{let n=e.target.value;/^#[0-9A-F]{6}$/i.test(n)?X(n):k("warning","Invalid color format")},be=(e,n)=>{let t=e.target.value;switch(n){case"name":J(t);break;case"price":V(t);break;case"des":H(t);break;case"url":t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t),ee(t)}};return(0,i.useEffect)((()=>{(async()=>{const e=P.isSignedIn();O(e),e&&(n(),te((0,z.zs)(10)),z.be.get("/contract/get_token_by_contract?contract=".concat(N)).then((e=>{let{data:n}=e;ie(n.token),t()})).catch((e=>t())),z.be.get("/traits?contract=".concat(N)).then((e=>{let{data:n}=e;n.data?re(JSON.parse(n.data.traits)):re([])})))})()}),[_]),(0,W.jsxs)(F,{children:[!M&&(0,W.jsx)(I.Z,{}),!M&&(0,W.jsxs)(r.ZP,{container:!0,spacing:2,sx:{maxWidth:"900px",margin:"auto"},children:[(0,W.jsx)(r.ZP,{item:!0,xs:12,children:(0,W.jsx)(s.Z,{variant:"text"})}),(0,W.jsx)(r.ZP,{item:!0,md:3,sm:4,xs:6,children:(0,W.jsx)(s.Z,{height:200})}),(0,W.jsxs)(r.ZP,{item:!0,md:9,sm:8,xs:12,container:!0,children:[(0,W.jsx)(r.ZP,{item:!0,xs:12,children:(0,W.jsx)(s.Z,{height:30})}),(0,W.jsx)(r.ZP,{item:!0,xs:12,children:(0,W.jsx)(s.Z,{height:80})})]}),(0,W.jsx)(r.ZP,{item:!0,xs:12,sx:{mt:5},children:(0,W.jsx)(s.Z,{variant:"text"})}),(0,W.jsx)(r.ZP,{item:!0,md:3,sm:4,xs:6,children:(0,W.jsx)(s.Z,{height:200})}),(0,W.jsxs)(r.ZP,{item:!0,md:9,sm:8,xs:12,container:!0,children:[(0,W.jsx)(r.ZP,{item:!0,xs:12,children:(0,W.jsx)(s.Z,{height:30})}),(0,W.jsx)(r.ZP,{item:!0,xs:12,children:(0,W.jsx)(s.Z,{height:80})})]})]}),M&&(0,W.jsxs)(r.ZP,{sx:{maxWidth:"900px",margin:"auto"},children:[(0,W.jsxs)(l.Z,{sx:{mb:4,textAlign:"center",position:"relative"},children:[(0,W.jsx)(c.Z,{onClick:me,sx:{position:"absolute",right:"0px",top:"-20px"},children:(0,W.jsx)(j.Z,{sx:{width:"18px",height:"18px"}})}),(0,W.jsx)(d.Z,{variant:"subtitle2",children:"Contract (".concat(null!==(e=null===ae||void 0===ae?void 0:ae.name)&&void 0!==e?e:"Your contract",")")}),(0,W.jsx)(d.Z,{variant:"h5",className:"subtitle",children:"Create NFT"})]}),(0,W.jsxs)(x.Z,{defaultExpanded:!0,children:[(0,W.jsx)(h.Z,{expandIcon:(0,W.jsx)(Z.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",children:(0,W.jsx)(d.Z,{variant:"h5",children:"Basic Information"})}),(0,W.jsx)(p.Z,{children:(0,W.jsxs)(u.Z,{gap:4,sx:{flexDirection:{sm:"row",xs:"column"}},children:[(0,W.jsxs)(l.Z,{children:[(0,W.jsxs)(l.Z,{component:"label",htmlFor:"file-input",children:[(0,W.jsx)(l.Z,{component:"input",id:"file-input",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{const{files:n}=e.target,t=n;if(t&&t.length>0){const n=t[0];if(n.type.startsWith("image/")){de(n);const e=new FileReader;e.onloadend=()=>{ue(e.result)},e.readAsDataURL(n)}else k("warning","Please select an image file."),e.target.value="",de(null),ue(null)}else de(null),ue(null)}}),(0,W.jsx)(l.Z,{border:1,borderColor:"grey.400",borderRadius:2,display:"flex",justifyContent:"center",alignItems:"center",width:150,height:190,bgcolor:pe?"transparent":"white",sx:{margin:{sm:"none",xs:"auto"},overflow:"hidden",transition:"background-color 0.2s ease-in-out","&:hover":{cursor:"pointer",borderColor:"#253b80",background:"#adb9df !important",transition:"background-color 0.2s ease-in-out",".image-part":{color:"#253b80"}}},children:pe?(0,W.jsx)("img",{src:pe,alt:"Preview",style:{width:150,height:190}}):(0,W.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[(0,W.jsx)(v.Z,{className:"image-part",sx:{width:40,height:40,color:"#253b80"}}),(0,W.jsx)(d.Z,{className:"image-part body_font",variant:"body1",color:"textSecondary",sx:{fontWeight:700},children:"Upload Image"}),(0,W.jsx)(d.Z,{className:"image-part body_font",variant:"caption",color:"textSecondary",sx:{position:"absolute",bottom:"-70%"},children:"Max size is 10M"})]})})]}),ce&&(0,W.jsx)(c.Z,{color:"error","aria-label":"add to shopping cart",onClick:()=>{de(null),ue(null)},children:(0,W.jsx)(w.Z,{})})]}),(0,W.jsxs)(l.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:2},children:[(0,W.jsxs)(l.Z,{display:"flex",gap:1,className:"basic-box",children:[(0,W.jsx)(m.Z,{size:"small",id:"outlined-basic",label:"NFT Name",variant:"outlined",placeholder:"NFT Name",helperText:"Required",fullWidth:!0,value:G,onChange:e=>be(e,"name")}),(0,W.jsx)(m.Z,{size:"small",type:"number",id:"outlined-basic",label:"NFT Price (NEAR)",variant:"outlined",placeholder:"ex; 1 (NEAR)",value:Y,onChange:e=>be(e,"price")})]}),(0,W.jsx)(m.Z,{id:"outlined-multiline-static",label:"Description",multiline:!0,rows:4,size:"small",value:K,onChange:e=>be(e,"des")})]})]})})]}),(0,W.jsxs)(x.Z,{defaultExpanded:!0,children:[(0,W.jsx)(h.Z,{expandIcon:(0,W.jsx)(Z.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",children:(0,W.jsx)(d.Z,{variant:"h5",children:"Document"})}),(0,W.jsx)(p.Z,{children:(0,W.jsxs)(u.Z,{direction:"column",gap:4,children:[xe&&(0,W.jsxs)(l.Z,{className:"fileBox",children:[(0,W.jsx)(y.Z,{sx:{width:50,height:50,color:"#253b80"}}),(0,W.jsx)(d.Z,{className:"documentName",children:null===xe||void 0===xe?void 0:xe.name})]}),(0,W.jsxs)(l.Z,{component:"label",htmlFor:"image-input",className:"uploadBox",children:[(0,W.jsx)(l.Z,{component:"input",id:"image-input",type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:e=>{const{files:n}=e.target,t=n;if(t&&t.length>0){const n=t[0];if("application/pdf"===n.type){he(n);(new FileReader).readAsDataURL(n)}else k("warning","Please select a PDF file."),e.target.value="",he(null)}else he(null)}}),(0,W.jsx)(d.Z,{children:"Upload File"}),(0,W.jsx)(d.Z,{sx:{color:"#1d26a1",mb:"25px",fontSize:"14px"},children:"(or just drop your file here)"}),xe&&(0,W.jsx)(g.Z,{size:"small",variant:"contained",color:"error",onClick:e=>{return(n=e).preventDefault(),n.stopPropagation(),void he(null);var n},children:"Remove Document"})]})]})})]}),(0,W.jsxs)(x.Z,{defaultExpanded:!0,children:[(0,W.jsx)(h.Z,{expandIcon:(0,W.jsx)(Z.Z,{}),"aria-controls":"panel2-content",id:"panel2-header",children:(0,W.jsx)(d.Z,{variant:"h5",children:"Traits"})}),(0,W.jsx)(p.Z,{children:(0,W.jsx)(r.ZP,{container:!0,spacing:2,children:oe.length>0?oe.map(((e,n)=>(0,W.jsx)(r.ZP,{item:!0,xs:6,children:(0,W.jsxs)(l.Z,{className:"whiteBlock",children:[(0,W.jsx)(d.Z,{variant:"h5",children:e.category}),(0,W.jsx)(b.Z,{sx:{flexDirection:"row",p:2,gap:1},children:e.values.map(((n,t)=>(0,W.jsx)(R,{control:(0,W.jsx)(f.Z,{onChange:t=>((e,n,t)=>{const a=e.target.checked;le(a?e=>[...e,{trait_type:n,value:t}]:e=>e.filter((e=>e.trait_type!==n||e.value!==t)))})(t,e.category,n)}),label:n},t)))})]})},n))):(0,W.jsx)(r.ZP,{item:!0,xs:12,children:(0,W.jsx)(d.Z,{className:"body_font",my:2,textAlign:"center",variant:"h6",children:"No Traits Added"})})})})]}),(0,W.jsxs)(x.Z,{defaultExpanded:!0,children:[(0,W.jsx)(h.Z,{expandIcon:(0,W.jsx)(Z.Z,{}),"aria-controls":"panel2-content",id:"panel2-header",children:(0,W.jsx)(d.Z,{variant:"h5",children:"Optional Settings"})}),(0,W.jsx)(p.Z,{children:(0,W.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,W.jsxs)(r.ZP,{item:!0,xs:6,sx:{position:"relative"},children:[(0,W.jsx)(m.Z,{type:"text",size:"small",label:"Background Color",variant:"outlined",placeholder:"#000000",fullWidth:!0,helperText:"Must be a six-character hexadecimal with a pre-pended #.",value:Q,onChange:ge}),(0,W.jsx)(l.Z,{sx:{display:"block",borderRadius:50,width:30,height:30,position:"absolute",top:"18px",right:"10px"},children:(0,W.jsx)(T,{value:Q,type:"color",onChange:ge})})]}),(0,W.jsx)(r.ZP,{item:!0,xs:6,children:(0,W.jsx)(m.Z,{size:"small",label:"External URL",variant:"outlined",placeholder:"External URL",fullWidth:!0,helperText:"This is the URL that will allow users to view the item on your site.",value:$,onChange:e=>be(e,"url")})})]})})]}),(0,W.jsx)(l.Z,{sx:{mt:3,mb:1,textAlign:"center"},children:(0,W.jsx)(g.Z,{variant:"contained",sx:{height:"50px",width:"180px"},onClick:async()=>{if(!ce||!G)return void k("info","Please enter all required information.");const e=await(null===C||void 0===C?void 0:C.getAccountBalance());if(0>=Number(null===e||void 0===e?void 0:e.available))k("info","You have no enough NEAR balance.");else{n(),q(!0);try{let e={title:G,description:K,media:ce,animation_url:"",external_url:$,background_color:Q,attributes:JSON.stringify(se)};xe&&(e.document=xe);const n=await(0,z.VN)(e),a=B.Kr+n.media_hash;U(N,"store_metadata",(async e=>{if(!e)return;const i=await P.wallet(),o=S.utils.format.parseNearAmount(Y.toString());let r={token_id:ne,title:G,description:K,media:a,reference:B.Kr+n.id,reference_hash:"null",price:o};const s={type:"FunctionCall",params:{methodName:"store_metadata",args:r,gas:"200000000000000",deposit:""}};i.signAndSendTransaction({actions:[s]}).then((()=>{const e={accountId:_,contract:N,index:0,nftData:{...r}};z.be.post("/nfts",e).then((e=>{e.data.success&&(me(),k("success","You shave created new NFT successfully!"),q(!0),t())}))})).catch((e=>{throw console.log(e),k("error","Failed FunctionCall create new NFT"),q(!0),t(),e}))}))}catch(a){console.error(a),k("error",String(a)),t(),q(!1)}}},children:L?"Making type ....":"Make New NFT Type"})})]})]})}}}]);
//# sourceMappingURL=128.96ba5b92.chunk.js.map